<?php

/**
 * @file autoload.php
 * @brief Composer autoloader for the application.
 *
 * @details This file is automatically generated by Composer to handle autoloading
 * of PHP classes. It ensures that all dependencies are properly included and provides
 * a fallback for older PHP versions.
 */

// Check if PHP version is lower than 5.6, which is no longer supported by Composer 2.3
if (PHP_VERSION_ID < 50600) 
{
    if (!headers_sent()) 
    {
        header('HTTP/1.1 500 Internal Server Error');
    }
    
    // Error message to notify the user about incompatible PHP version
    $err = 'Composer 2.3.0 dropped support for autoloading on PHP <5.6 and you are running ' . PHP_VERSION . 
           ', please upgrade PHP or use Composer 2.2 LTS via "composer self-update --2.2". Aborting.' . PHP_EOL;

    // Display error message based on environment
    if (!ini_get('display_errors')) 
    {
        if (PHP_SAPI === 'cli' || PHP_SAPI === 'phpdbg') 
        {
            fwrite(STDERR, $err);  // Display error in CLI/PhpDbg
        } elseif (!headers_sent()) 
        {
            echo $err;  // Display error in web response if headers are not already sent
        }
    }

    // Trigger an error to halt further execution
    trigger_error
    (
        $err,
        E_USER_ERROR
    );
}

// Require Composer's real autoload file to initialize the autoloader
require_once __DIR__ . '/composer/autoload_real.php';

/**
 * @brief Returns the autoloader instance.
 *
 * @details This function returns the Composer autoloader instance for the application.
 * It is used to automatically load PHP classes and dependencies.
 *
 * @return \Composer\Autoload\ClassLoader The Composer autoloader instance.
 */
return ComposerAutoloaderInitfbee484fbcb98ba45566f17e8eb69e9b::getLoader();

